#!/bin/sh -e

# called from dpkg with:
#   $1    package name
#   $2    full path to .deb postinst script (blank if there is none in .deb)
#   $3... parameter list normally passed as $1... per debian documentation
#         See: http://www.debian.org/doc/debian-policy/ch-maintainerscripts.html
# NB: this script *must* run $2 with $3... parameters at some point

. @PREFIX@/bin/init.sh

echo "postinst for package '$1'"
pkg=$1
shift;

if [ "$2" = "configure" ]; then
    echo "configuring $pkg: would clean up .la files being installed:"
    for lafile in `grep '\.la$' "/sw/var/lib/dpkg/info/$pkg.list"`; do
	echo "    $lafile"
    done
fi

[ -z $1 ] || "$@"
